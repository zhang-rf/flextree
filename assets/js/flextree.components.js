!function(e){"use strict";if(!e.flextree)throw new Error("flextree.js required");var t=e.fn.tree;e.fn.tree=function(){for(var r=t.apply(this,Array.prototype.slice.call(arguments)),a=e.flextree.components.global,n=0;n<arguments.length;n++){var i=arguments[n];if("object"==typeof i&&i.components){a=i.components;break}}if(a)for(var o in a)e.flextree.components[o].main.apply(r.get(0),a[o]);return r},e.flextree.components={},"undefined"!=typeof module&&module.exports&&(module.exports=e.flextree.components)}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";var t=e.flextree.getInternal("dataFixDblClickBug"),r="ft-selectable",a="."+r,n="ft-selected",i=a+"."+n,o="ft-selectable-selected",l="ft-selectable-attached",d="ft-selectable-multiple",s="ft-selectable-cancelable",f="select.selectable.flextree";e.fn.treeSelected=function(){var t=e(this).treeRoot(),r=t.data(o);return r?e(r):t.find(i)},e.fn.treeSelect=function(){var t=e(this).treeNode(),r=t.treeRoot(),a=r.data(d),i=r.data(s);if(i?t.toggleClass(n):t.addClass(n),!a)if(t.hasClass(n)){var l=e(r.data(o));l.is(this)||(l.removeClass(n),r.data(o,this))}else r.removeData(o);t.trigger(f)},e.flextree.components.selectable={eventSelect:f,main:function(n,i){e(this).treeAll().each(function(){e(this).addClass(r)});var o=e(this).treeRoot();if(!o.data(l)){o.data(l,!0),o.data(d,n||!1),o.data(s,i!==!1);var f=o.data(t);o.on("click",a,function(t){f&&!t.isClick||e(this).treeSelect()})}}}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";var t=e.flextree.getInternal("selFlextree"),r=e.flextree.getInternal("dataFixDblClickBug"),a=e.flextree.getInternal("dataCollapsible"),n=e.flextree.getInternal("dataExclusiveNode"),i=".ft-collapsible",o="ft-expanded",l="ft-collapsible-attached";e.flextree.components.collapsible={main:function(){var d=e(this).treeRoot(),s=d.data(r),f=d.data(a),c=d.data(n);f&&!d.data(l)&&(d.data(l,!0),d.on("click",i,function(t){s&&!t.isClick||(t.stopPropagation(),e(this).treeActivate())}),d.on(e.flextree.eventActivate,"li:not("+t+")",function(){e(this).find(i).toggleClass(o),c&&e(this).treeSiblings().find(i).removeClass(o)}))}}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";var t="ft-checkbox",r="."+t,a="ft-checkbox-attached",n="check.checkbox.flextree";e.fn.treeChecked=function(){return e(this).treeRoot().find(r).filter(":checked").treeNode()},e.flextree.components.checkbox={eventCheck:n,main:function(t){var i=e(this).treeRoot();if(!i.data(a))return i.data(a,!0),t===!1?void i.on("click",r,function(t){e(t.delegateTarget).find(r).filter(":checked").not(this).prop("checked",!1),e(t.target).trigger(n)}):void i.on("click",r,function(t){e(this).treeFind().find(r).prop("indeterminate",!1).prop("checked",e(this).is(":checked"));for(var a=e(this).treeParents().find(r),i=a.length-1;i>=0;i--){var o=e(a[i]),l=o.treeChildren().find(r);if(1!=l.length){var d=o.is(":checked"),s=o.prop("indeterminate"),f=!0,c=!0,u=!1;if(l.each(function(){return e(this).is(":checked")?c=!1:f=!1,e(this).prop("indeterminate")&&(u=!0),f||c?void 0:!1}),f){if(d)break;o.prop("indeterminate",!1).prop("checked",!0)}else if(c&&!u){if(!d&&!s)break;o.prop("indeterminate",!1).prop("checked",!1)}else{if(s)break;o.prop("indeterminate",!0).prop("checked",!1)}}else o.prop("checked",l.is(":checked"))}e(t.target).trigger(n)})}}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";var t="ft-dnd5-source",r="ft-dnd5-attached";e.flextree.components.dnd5={main:function(){e(this).treeAll().each(function(){e(this).attr("draggable","true").find("a,img").attr("draggable","false")});var a=e(this).treeRoot();a.data(r)||(a.data(r,!0),a.on("dragstart","li[draggable=true]",function(r){e(r.delegateTarget).data(t,this)}).on("dragover","li[draggable=true]",function(r){var a=e(r.delegateTarget).data(t);if(a!=this){if(0!=e(this).nextAll().filter(a).length)e(this).addClass("ft-dnd5-top");else{if(0==e(this).prevAll().filter(a).length)return;e(this).addClass("ft-dnd5-bottom")}r.preventDefault()}}).on("dragleave","li[draggable=true]",function(){e(this).removeClass("ft-dnd5-top").removeClass("ft-dnd5-bottom")}).on("drop","li[draggable=true]",function(r){r.preventDefault(),e(this).removeClass("ft-dnd5-top").removeClass("ft-dnd5-bottom");var a=e(r.delegateTarget).data(t),n=e(a);if(n=n.add(n.treeChildren().parent().parent()),0!=e(this).nextAll().filter(a).length)e(this).before(n);else if(0!=e(this).prevAll().filter(a).length){var i=e(this).treeNext().prev();0==i.length&&(i=e(this).next()),0==i.length&&(i=e(this)),i.after(n)}}).on("dragend","li[draggable=true]",function(r){e(r.delegateTarget).removeData(t)}))}}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";var t="ft-visible",r=".ft-ajax",a="activate.ajax.flextree";e.fn.treeAjax=function(n){var i=e.Deferred();return e(this).treeNode().on(a,function(){e(this).off(a);var o=this,l=e(this).find(r);l.addClass(t),e.ajax(n).then(function(e,t,r){i.resolveWith(this,[o,e,t,r])},function(e,t,r){i.rejectWith(this,[o,e,t,r])}).always(function(){l.removeClass(t)})}),i.promise()}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery),function(e){"use strict";e.fn.treeSearch=function(t,r){r=r||"*";var a=e();return e(this).treeAll().each(function(){-1!=e(this).filter(r).text().indexOf(t)&&(a=a.add(this))}),a}}("undefined"!=typeof module&&module.exports?require("jquery"):jQuery);